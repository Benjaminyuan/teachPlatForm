type User {
  id: ID! @unique
  openid:String!@unique
}
type Admin{
  id: ID!@unique
  openid: String! @unique
  name: String!@unique
  phone: String!@unique
  email: String!@unique
}
type Student{
  id: ID! @unique
  openid: String! @unique
  phone: String!@unique
  name: String!@unique
  university: University!
  grade: Level!
  email: String!@unique
  Gender: Gender @default(value:MALE)
  createdAt: DateTime!
  updatedAt: DateTime!
  expectPay: Int
  authStatus: AuthStatus!
  subjects:[Subject!]! 
  starList: [Parent!]
  avalible:[AvalibelTime!]!
  studentDetail: StudentDetail
  invitations:[Invitation!]@relation(name:"InviteForStudent")
  order: [Order!] @relation(name:"OrderStudent" onDelete:CASCADE)
  publish: Boolean! @default(value:"false")
}
type StudentDetail{
  selfIntro:String!
  grades:String!
  exprience: String!
  picture:[String!]
}
 
type Parent{
  id: ID! @unique
  openid: String!@unique
  phone: String! @unique
  name: String!@unique
  address: String!
  email: String!@unique
  #想要找的学科
  #是否认证
  authStatus: AuthStatus!
  createdAt: DateTime!
  updatedAt: DateTime!
  starList: [Student!] 
  # 邀请
  invitations: [Invitation!] @relation(name:"InviteForParent" onDelete: CASCADE) 
  order: [Order!]@relation(name:"OrderParent" onDelete:CASCADE)   
  publishTerm: BasicTermInfo!
  publish: Boolean! @default(value:"false")
}
type BasicTermInfo{
  id: ID! @unique
  Level:Level!
  subjects: [SubjectName!]!
  pay: Int @default(value:50)
  childGender: Gender! @default(value:FEMALE)
  teacherGender: SelectGender! @default(value:BOTH)
  teacherReuqire: String
  childStatus: String
  longTerm: LongTerm
  shortTerm: ShortTerm
}
type ShortTerm{
  id: ID!@unique
  lessonTime:Int!@default(value:1)
  all:Int!
  timeList:[DateTime!]!
}

type LongTerm{
  id: ID! @unique
  lessonTime: Int! @default(value:1)
  days: Int! @default(value:1)
  timeList: [AvalibelTime!]!
}
type AvalibelTime{
  day: Day!
  detail: DetailTime!
}
type Order{
  id: ID!@unique
  stuednt: Student!@relation(name:"OrderStudent")
  parent: Parent!@relation(name:"OrderParent")
  status: OrderStatus!
}

type StudentAuthInfo{
  id: ID! @unique
  openid:String!@unique
  student: Student! @unique
  sourceUrl: [String!]!
  res: AuthStatus!
  info:String
  Auth: Admin
}
type ParentAuthInfo{
  id: ID! @unique
  parent: Parent!@unique
  openid:String!@unique
  sourceUrl: [String!]!
  res: AuthStatus!
  info:String
  Auth: Admin
}
type Invitation{
  id: ID!@unique
  student: Student!@relation(name:"InviteForStudent")
  parent: Parent!@relation(name:"InviteForParent")
  invitor: Invitor!
  status: InvitationStatus!
  createdAt:DateTime!
  updatedAt:DateTime!
}
type TryOrder{
  id: ID! @unique
  student: Student!
  parent: Parent! 
  address: String!
  startTime: DateTime
  endTime: DateTime
  phone: String
  otherInfo:String
  emerContact: [emerContact!]
  status: tryOrderStatus!
  rejectInfo:String
}

type emerContact{
  name:String!
  phone:String!
  relation: String!
}
type Subject{
  name: SubjectName!
  level:[Level!]! 
}
enum tryOrderStatus{
  INIT
  INFOCOMPLETE
  PACK
  SACK
  CANCLED
  FINISHED
}
enum Gender{
  MALE
  FEMALE
}
enum SelectGender{
  MALE
  FEMALE
  BOTH
}
enum DetailTime{
  MORN
  NOON
  AFTER
}
enum Day{
  SUN
  MON
  TUE
  WED
  THU
  FRI
  SAT
}


enum AuthStatus{
  UNCOMMITED
  AUTHCOMMITED
  AUTHED
  REJECTED
}
# 学生等级
enum Level{
  PRI_1
  PRI_2
  PRI_3
  PRI_4
  PRI_5
  PRI_6
  MID_1
  MID_2
  MID_3
  MIDHIGH_1
  MIDHIGH_2
  MIDHIGH_3
  UNI_1
  UNI_2
  UNI_3
  UNI_4
}
#学校
enum University{
  HUST
  WHU
  OTHER
}
enum SubjectName{
  CHINESE
  MATH
  ENGLISH
  PHYSICS
  CHEMISTRY
  BIOLOGY
  HISTORY
  GEOGRAPHY
  OTHER
}



enum Invitor{
  STUDENT
  PARENT
}
enum OrderStatus{
  PAIED
  UNPAIED
  FINISHED
}
enum InvitationStatus{
  REBACK
  WAITING
  ACCEPT
  REJECTED
  UNPAIED
  PAIED
  FINISHED
}