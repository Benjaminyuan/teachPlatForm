type User {
  id: ID! @unique
  name: String!
}
type Student{
  id: ID! @unique
  phone: String!@unique
  name: String!@unique
  university: University!
  email: String!@unique
  Gender: Gender @default(value:MALE)
  createdAt: DateTime!
  updatedAt: DateTime!
  #可以发布的科目
  authstatus: AuthStatus!
  subjects:[Subject!]
  #平台认证
  avalible:[AvalibelTime!]!
  invitations:[Invitation!]@relation(name:"InviteForStudent")
  order: [Order!] @relation(name:"OrderStudent" onDelete:CASCADE)
}
type Parent{
  id: ID! @unique
  phone: String! @unique
  name: String!@unique
  address: String!
  email: String!@unique
  #想要找的学科
  #是否认证
  authstatus: AuthStatus!
  createdAt: DateTime!
  updatedAt: DateTime!
  # 邀请
  invitations: [Invitation!] @relation(name:"InviteForParent" onDelete: CASCADE) 
  order: [Order!]@relation(name:"OrderParent" onDelete:CASCADE)   
  publishTerm: [BasicTermInfo!] 
}
type BasicTermInfo{
  termId: ID! @unique
  subjects: [Subject!]
  pay: Int @default(value:50)
  childGender: Gender! @default(value:FEMALE)
  TeacherGender: SelectGender! @default(value:BOTH)
  teacherReuqire: String
  childStatus: String
  longTerm: LongTerm
  shortTerm: ShortTerm
}
type ShortTerm{
  shortTermId: ID!@unique
  timeList:[DateTime!]!
}

type LongTerm{
  longTermId: ID! @unique
  lessonTime: Int @default(value:1)
  days: Int @default(value:1)
  timeList: [AvalibelTime!]!
}
type AvalibelTime{
  day: Day!
  detail: DetailTime!
}
enum Gender{
  MALE
  FEMALE
}
enum SelectGender{
  MALE
  FEMALE
  BOTH
}
enum DetailTime{
  MORN
  NOON
  AFTER
}
enum Day{
  SUN
  MON
  TUE
  WED
  THU
  FRI
  SAT
}

# 科目
type Subject{
  name: SubjectName!
  level:[Level!]! 
}
enum AuthStatus{
  UNCOMMITED
  AUTHCOMMITED
  AUTHED
}
# 学生等级
enum Level{
  MIDDLE
  MIDDLEHIGH
  PRIMARY
  UNI
}
#学校
enum University{
  HUST
  WHU
}
enum SubjectName{
  CHINESE
  MATH
  ENGLISH
}

type Invitation{
  id: ID!@unique
  stuednt: Student!@relation(name:"InviteForStudent")
  parents: Parent!@relation(name:"InviteForParent")
  status: InvitationStatus!
}
type Order{
  order: String!@unique
  stuednt: Student!@relation(name:"OrderStudent")
  parents: Parent!@relation(name:"OrderParent")
  status: OrderStatus!
}
enum OrderStatus{
  PAIED
  UNPAIED
  FINISHED
}
enum InvitationStatus{
  WAITING
  AGREED
  REJECTED
}